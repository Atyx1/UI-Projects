<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Duygu - Modern Fashion</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Poppins:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Import the model-viewer component -->
    <script
      type="module"
      src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"
    ></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#ADD8E6",
              text: "#000000",
              background: "#FFFFFF",
              surface: "#F0F0F3",
            },
            fontFamily: {
              poppins: ["Poppins", "sans-serif"],
              inter: ["Inter", "sans-serif"],
            },
          },
        },
      };
    </script>
    <style>
      :root {
        --primary: #add8e6;
        --text: #000000;
        --background: #ffffff;
        --surface: #f0f0f3;
        --shadow-light: rgba(255, 255, 255, 0.7);
        --shadow-dark: rgba(0, 0, 0, 0.1);
      }

      .neumorphic {
        background: var(--surface);
        box-shadow: 8px 8px 16px var(--shadow-dark),
          -8px -8px 16px var(--shadow-light);
        border-radius: 12px;
      }

      .neumorphic-inset {
        background: var(--surface);
        box-shadow: inset 4px 4px 8px var(--shadow-dark),
          inset -4px -4px 8px var(--shadow-light);
        border-radius: 12px;
      }

      .left-menu {
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
      }

      .left-menu.active {
        transform: translateX(0);
      }

      .bottom-sheet {
        transform: translateY(100%);
        transition: transform 0.3s ease-in-out;
      }

      .bottom-sheet.active {
        transform: translateY(0);
      }

      .menu-overlay {
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease-in-out;
      }

      .menu-overlay.active {
        opacity: 1;
        visibility: visible;
      }

      /* Thinner typography */
      .font-thin {
        font-weight: 300;
      }
      body,
      button,
      input {
        font-weight: 300;
      }

      /* Backdrop for wishlist button */
      .backdrop {
        background: rgba(255, 255, 255, 0.75);
        backdrop-filter: blur(4px);
      }

      /* Scroll snap for thumbnails */
      .scroll-snap-x {
        scroll-snap-type: x mandatory;
      }

      .snap-start {
        scroll-snap-align: start;
      }

      /* Filter bar lighter font */
      .filter-bar * {
        font-weight: 300;
      }

      /* Navigation arrows */
      .nav-arrow {
        opacity: 0;
        transition: opacity duration-200;
      }
      .image-wrapper:hover .nav-arrow {
        opacity: 0.7;
      }

      /* Hide scrollbar for Chrome, Safari and Opera */
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }

      /* Hide scrollbar for IE, Edge and Firefox */
      .scrollbar-hide {
        -ms-overflow-style: none; /* IE and Edge */
        scrollbar-width: none; /* Firefox */
      }

      /* AR button styling */
      model-viewer {
        --poster-color: transparent;
      }

      .ar-button {
        background-color: #4285f4;
        border-radius: 4px;
        border: none;
        color: white;
        font-size: 14px;
        height: 36px;
        padding: 0 16px;
        text-transform: uppercase;
      }

      #ar-prompt {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        z-index: 9999;
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 20px;
      }
    </style>
  </head>
  <body class="bg-surface min-h-screen font-inter">
    <!-- Menu Overlay -->
    <div
      id="menuOverlay"
      class="menu-overlay fixed inset-0 bg-black/50 backdrop-blur-sm z-40"
    ></div>

    <!-- Left Slide-In Menu -->
    <div
      id="leftMenu"
      class="left-menu fixed top-0 left-0 bottom-0 w-4/5 md:w-1/3 lg:w-3/10 bg-background z-50 h-screen overflow-y-auto py-8 px-6"
    >
      <div class="flex flex-col min-h-full">
        <!-- Close Button -->
        <div class="flex items-start">
          <button
            onclick="toggleLeftMenu()"
            class="p-2 rounded-lg neumorphic h-11 w-11 flex items-center justify-center"
          ></button>
        </div>

        <!-- Brand Logo -->
        <a
          href="index.html"
          class="text-3xl md:text-4xl font-poppins font-light text-black tracking-wide"
          >DUYGU</a
        >

        <!-- Divider -->
        <hr class="border-gray-300 my-4" />

        <!-- Anniversary Edition Section -->
        <div class="mb-8">
          <h2
            class="font-poppins font-semibold text-black text-sm uppercase tracking-wider my-2"
          >
            Anniversary Edition
          </h2>
          <nav class="space-y-1">
            <a
              href="#"
              class="block py-3 px-4 rounded-lg hover:bg-black/5 transition-colors duration-150 text-black font-poppins"
              >50th Anniversary</a
            >
            <a
              href="#"
              class="block py-3 px-4 rounded-lg hover:bg-black/5 transition-colors duration-150 text-black font-poppins"
              >The New</a
            >
            <a
              href="#"
              class="block py-3 px-4 rounded-lg hover:bg-black/5 transition-colors duration-150 text-black font-poppins"
              >Open Air | Beach</a
            >
            <a
              href="#"
              class="block py-3 px-4 rounded-lg hover:bg-black/5 transition-colors duration-150 text-black font-poppins"
              >Gift</a
            >
          </nav>
        </div>

        <!-- Home & Decor Section -->
        <div class="mb-8">
          <h2
            class="font-poppins font-semibold text-black text-sm uppercase tracking-wider my-2"
          >
            Home & Decor
          </h2>
          <nav class="space-y-1">
            <a
              href="#"
              class="block py-3 px-4 rounded-lg hover:bg-black/5 transition-colors duration-150 text-black font-poppins"
              >Bedding Sets</a
            >
            <a
              href="#"
              class="block py-3 px-4 rounded-lg hover:bg-black/5 transition-colors duration-150 text-black font-poppins"
              >Furniture</a
            >
            <a
              href="#"
              class="block py-3 px-4 rounded-lg hover:bg-black/5 transition-colors duration-150 text-black font-poppins"
              >Rugs</a
            >
            <a
              href="#"
              class="block py-3 px-4 rounded-lg hover:bg-black/5 transition-colors duration-150 text-black font-poppins"
              >Lighting</a
            >
            <a
              href="#"
              class="block py-3 px-4 rounded-lg hover:bg-black/5 transition-colors duration-150 text-black font-poppins"
              >Mirrors</a
            >
            <a
              href="#"
              class="block py-3 px-4 rounded-lg hover:bg-black/5 transition-colors duration-150 text-black font-poppins"
              >Decor</a
            >
          </nav>
        </div>

        <!-- Account & Basket Section -->
        <div class="mb-8">
          <h2
            class="font-poppins font-semibold text-black text-sm uppercase tracking-wider my-2"
          >
            Account & Basket
          </h2>
          <nav class="space-y-1">
            <a
              href="#"
              class="block py-3 px-4 rounded-lg hover:bg-black/5 transition-colors duration-150 text-black font-poppins"
              >Cart</a
            >
            <a
              href="#"
              class="block py-3 px-4 rounded-lg hover:bg-black/5 transition-colors duration-150 text-black font-poppins"
              >Wishlist</a
            >
            <a
              href="#"
              class="block py-3 px-4 rounded-lg hover:bg-black/5 transition-colors duration-150 text-black font-poppins"
              >Profile</a
            >
          </nav>
        </div>
      </div>
    </div>

    <!-- Navbar -->
    <nav
      class="fixed top-0 left-0 right-0 z-50 backdrop-blur-sm bg-white/70 border-b border-text/10"
    >
      <div class="container mx-auto px-4">
        <div class="flex items-center justify-between h-14">
          <!-- Hamburger Menu -->
          <button
            onclick="toggleLeftMenu()"
            class="flex items-center justify-center hover:text-primary"
          >
            <i
              data-lucide="menu"
              class="w-5 h-5 text-black"
              stroke-width="1.5"
            ></i>
          </button>

          <!-- Brand Logo -->
          <a
            href="index.html"
            class="text-3xl md:text-4xl font-poppins font-light text-black tracking-wide"
            >DUYGU</a
          >

          <!-- Right Icons -->
          <div class="flex items-center gap-6">
            <div class="relative">
              <input
                type="search"
                id="searchInput"
                placeholder="Search..."
                class="border-b border-text/80 focus:border-text bg-transparent px-1 py-1 pr-6 text-sm focus:outline-none w-[160px] placeholder-gray-500"
              />
              <i
                data-lucide="search"
                class="absolute right-1 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500 pointer-events-none"
                stroke-width="1.5"
              ></i>
            </div>
            <button id="wishlistBtn" class="relative hover:text-primary">
              <i
                data-lucide="heart"
                class="w-5 h-5 text-black opacity-80"
                stroke-width="1.5"
              ></i>
              <span
                id="wishlistCount"
                class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-semibold w-4 h-4 rounded-full flex items-center justify-center"
                >0</span
              >
            </button>
            <button class="hover:text-primary">
              <i
                data-lucide="shopping-bag"
                class="w-5 h-5 text-black opacity-80"
                stroke-width="1.5"
              ></i>
            </button>
            <button class="hover:text-primary">
              <i
                data-lucide="user"
                class="w-5 h-5 text-black opacity-80"
                stroke-width="1.5"
              ></i>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Bottom Sheet Menu (Desktop) -->
    <div
      id="bottomSheet"
      class="bottom-sheet fixed bottom-0 left-0 right-0 bg-background rounded-t-3xl p-6 z-40 hidden md:block"
    >
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-xl font-poppins font-semibold text-text">Menu</h2>
        <button onclick="toggleBottomSheet()" class="p-2 rounded-lg neumorphic">
          <i data-lucide="x" class="w-6 h-6 text-text"></i>
        </button>
      </div>
      <div class="grid grid-cols-2 gap-4">
        <a
          href="#"
          class="p-4 rounded-lg neumorphic text-text font-medium hover:bg-primary hover:text-white transition-colors duration-150"
          >Collections</a
        >
        <a
          href="#"
          class="p-4 rounded-lg neumorphic text-text font-medium hover:bg-primary hover:text-white transition-colors duration-150"
          >New Arrivals</a
        >
        <a
          href="#"
          class="p-4 rounded-lg neumorphic text-text font-medium hover:bg-primary hover:text-white transition-colors duration-150"
          >Tops</a
        >
        <a
          href="#"
          class="p-4 rounded-lg neumorphic text-text font-medium hover:bg-primary hover:text-white transition-colors duration-150"
          >Bottoms</a
        >
      </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 pt-20 pb-32">
      <!-- Filter Bar -->
      <div
        id="filterBar"
        class="filter-bar bg-background/80 backdrop-blur-sm z-30 py-4 border-b border-gray-100 shadow-sm sticky top-14"
      >
        <div class="flex gap-6 overflow-x-auto pb-2 snap-x scrollbar-hide">
          <!-- Gender Filter -->
          <label
            class="flex items-center gap-0.5 text-sm font-light group transition-all duration-150 hover:shadow-md rounded-full px-1 hover:text-gray-800"
          >
            <span class="ml-1">Gender:</span>
            <div class="relative">
              <select
                id="filter-gender"
                class="appearance-none bg-white/40 rounded-full border border-gray-300 px-4 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary/40 shadow-[inset_0_0_0_1px_rgba(0,0,0,0.05)] font-light"
              >
                <option value="">Any</option>
                <option value="men">Men</option>
                <option value="women">Women</option>
              </select>
              <i
                data-lucide="chevron-down"
                class="pointer-events-none absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"
              ></i>
            </div>
          </label>

          <!-- Category Filter -->
          <label
            class="flex items-center gap-0.5 text-sm font-light group transition-all duration-150 hover:shadow-md rounded-full px-1 hover:text-gray-800"
          >
            <span class="ml-1">Category:</span>
            <div class="relative">
              <select
                id="filter-category"
                class="appearance-none bg-white/40 rounded-full border border-gray-300 px-4 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary/40 shadow-[inset_0_0_0_1px_rgba(0,0,0,0.05)] font-light"
              >
                <option value="">Any</option>
                <option value="shirt">Shirt</option>
                <option value="pants">Pants</option>
                <option value="tshirt">T-Shirt</option>
                <option value="jacket">Jacket</option>
                <option value="shorts">Shorts</option>
                <option value="outerwear">Outerwear</option>
              </select>
              <i
                data-lucide="chevron-down"
                class="pointer-events-none absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"
              ></i>
            </div>
          </label>

          <!-- Fabric Filter -->
          <label
            class="flex items-center gap-0.5 text-sm font-light group transition-all duration-150 hover:shadow-md rounded-full px-1 hover:text-gray-800"
          >
            <span class="ml-1">Fabric:</span>
            <div class="relative">
              <select
                id="filter-fabric"
                class="appearance-none bg-white/40 rounded-full border border-gray-300 px-4 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary/40 shadow-[inset_0_0_0_1px_rgba(0,0,0,0.05)] font-light"
              >
                <option value="">Any</option>
                <option value="cotton">Cotton</option>
                <option value="denim">Denim</option>
                <option value="blend">Blend</option>
                <option value="cashmere">Cashmere</option>
              </select>
              <i
                data-lucide="chevron-down"
                class="pointer-events-none absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"
              ></i>
            </div>
          </label>

          <!-- Color Filter -->
          <label
            class="flex items-center gap-0.5 text-sm font-light group transition-all duration-150 hover:shadow-md rounded-full px-1 hover:text-gray-800"
          >
            <span class="ml-1">Color:</span>
            <div class="relative">
              <select
                id="filter-color"
                class="appearance-none bg-white/40 rounded-full border border-gray-300 px-4 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary/40 shadow-[inset_0_0_0_1px_rgba(0,0,0,0.05)] font-light"
              >
                <option value="">Any</option>
                <option value="black">Black</option>
                <option value="white">White</option>
                <option value="blue">Blue</option>
                <option value="camel">Camel</option>
                <option value="gray">Gray</option>
                <option value="olive">Olive</option>
              </select>
              <i
                data-lucide="chevron-down"
                class="pointer-events-none absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"
              ></i>
            </div>
          </label>
        </div>
      </div>

      <!-- Promo Carousel Banner -->
      <div
        id="promoBanner"
        class="hidden mt-6 mb-8 bg-gradient-to-br from-[#fafcff] to-[#e1e9ff] rounded-3xl shadow-md/10 overflow-hidden opacity-0 transition-opacity duration-500"
        style="
          background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTMwMCAyMDBDMzAwIDI1NSAyNTUgMzAwIDIwMCAzMDBDMTQ1IDMwMCAxMDAgMjU1IDEwMCAyMDBDMTAwIDE0NSAxNDUgMTAwIDIwMCAxMDBDMjU1IDEwMCAzMDAgMTQ1IDMwMCAyMDBaIiBmaWxsPSIjQUREOEU2IiBmaWxsLW9wYWNpdHk9IjAuMTUiLz48cGF0aCBkPSJNMzUwIDEwMEMzNTAgMTI3LjYxNCAzMjcuNjE0IDE1MCAzMDAgMTUwQzI3Mi4zODYgMTUwIDI1MCAxMjcuNjE0IDI1MCAxMDBDMjUwIDcyLjM4NTggMjcyLjM4NiA1MCAzMDAgNTBDMzI3LjYxNCA1MCAzNTAgNzIuMzg1OCAzNTAgMTAwWiIgZmlsbD0iI0FERDhFNiIgZmlsbC1vcGFjaXR5PSIwLjE1Ii8+PHBhdGggZD0iTTE1MCAzNTBDMTUwIDM3Ny42MTQgMTI3LjYxNCA0MDAgMTAwIDQwMEM3Mi4zODU4IDQwMCA1MCAzNzcuNjE0IDUwIDM1MEM1MCAzMjIuMzg2IDcyLjM4NTggMzAwIDEwMCAzMDBDMTI3LjYxNCAzMDAgMTUwIDMyMi4zODYgMTUwIDM1MFoiIGZpbGw9IiNBREQ4RTYiIGZpbGwtb3BhY2l0eT0iMC4xNSIvPjwvc3ZnPg==');
          background-position: right top;
          background-repeat: no-repeat;
          background-size: contain;
        "
      >
        <div
          class="relative h-[120px] md:h-[140px] lg:h-[180px] flex flex-col md:flex-row items-start md:items-center justify-between p-6 md:p-8"
        >
          <!-- Left Content Section -->
          <div>
            <h3
              class="uppercase tracking-wider font-medium text-xs md:text-sm mb-1"
            >
              LIMITED OFFER
            </h3>
            <h1
              class="text-3xl md:text-4xl lg:text-5xl font-bold leading-tight mb-2"
            >
              Spring Refresh<br />20% Off
            </h1>
            <p class="text-gray-700 text-sm md:text-base">
              Selected jackets, shirts & jeans until 31 May
            </p>
          </div>

          <!-- Right Button Section -->
          <button
            class="rounded-full py-3 px-8 bg-black text-white hover:bg-transparent hover:text-black hover:outline hover:outline-2 hover:outline-black transition-all duration-150"
          >
            Shop Now
          </button>
        </div>

        <!-- Carousel Navigation -->
        <div class="relative h-[120px] md:h-[140px] overflow-hidden">
          <!-- Carousel Track -->
          <div
            id="carouselTrack"
            class="flex transition-transform duration-300 h-full"
          >
            <div class="min-w-full h-full">
              <img
                src="https://images.unsplash.com/photo-1556905055-8f358a7a47b2?fit=crop&w=1200&h=300"
                alt="Spring Collection"
                class="w-full h-full object-cover"
              />
            </div>
            <div class="min-w-full h-full">
              <img
                src="https://images.unsplash.com/photo-1551489186-cf8726f514f8?fit=crop&w=1200&h=300"
                alt="Summer Styles"
                class="w-full h-full object-cover"
              />
            </div>
            <div class="min-w-full h-full">
              <img
                src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?fit=crop&w=1200&h=300"
                alt="New Arrivals"
                class="w-full h-full object-cover"
              />
            </div>
            <div class="min-w-full h-full">
              <img
                src="https://images.unsplash.com/photo-1551028719-00167b16eac5?fit=crop&w=1200&h=300"
                alt="Limited Edition"
                class="w-full h-full object-cover"
              />
            </div>
          </div>

          <!-- Arrow Buttons -->
          <button
            id="prevBtn"
            class="absolute top-1/2 left-2 -translate-y-1/2 w-8 h-8 rounded-full bg-white/40 border border-white/80 shadow-md flex items-center justify-center disabled:opacity-30 disabled:cursor-not-allowed"
          >
            <i data-lucide="chevron-left" class="w-5 h-5"></i>
          </button>
          <button
            id="nextBtn"
            class="absolute top-1/2 right-2 -translate-y-1/2 w-8 h-8 rounded-full bg-white/40 border border-white/80 shadow-md flex items-center justify-center disabled:opacity-30 disabled:cursor-not-allowed"
          >
            <i data-lucide="chevron-right" class="w-5 h-5"></i>
          </button>

          <!-- Pagination Dots -->
          <div
            class="absolute bottom-3 left-1/2 -translate-x-1/2 flex space-x-2"
          >
            <button
              class="w-2 h-2 rounded-full bg-white opacity-100"
              data-index="0"
            ></button>
            <button
              class="w-2 h-2 rounded-full bg-white opacity-50"
              data-index="1"
            ></button>
            <button
              class="w-2 h-2 rounded-full bg-white opacity-50"
              data-index="2"
            ></button>
            <button
              class="w-2 h-2 rounded-full bg-white opacity-50"
              data-index="3"
            ></button>
          </div>
        </div>
      </div>

      <!-- Product Grid -->
      <div
        id="productGrid"
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mt-8"
      >
        <!-- Products will be dynamically inserted here -->
      </div>

      <!-- Product Detail View (Hidden by Default) -->
      <div id="productDetail" class="hidden mt-8">
        <!-- Product detail will be dynamically inserted here -->
      </div>
    </main>

    <!-- Favorites Panel -->
    <div
      id="favPanel"
      class="fixed top-0 right-0 w-full sm:w-[320px] h-full bg-white shadow-xl translate-x-full transition-transform duration-300 z-[60] overflow-y-auto"
    >
      <div class="flex items-center justify-between p-4 border-b">
        <h2 class="font-semibold">My Favourites</h2>
        <button onclick="toggleFavPanel()"><i data-lucide="x"></i></button>
      </div>
      <div id="favList" class="p-4 space-y-4"></div>
    </div>

    <!-- Wishlist Flyout Panel -->
    <div
      id="wishlistPanel"
      class="hidden fixed top-20 right-4 w-[340px] max-h-[75vh] overflow-y-auto bg-white rounded-2xl shadow-2xl p-6 space-y-4 z-[60]"
    >
      <h3 class="text-lg font-semibold mb-2 flex items-center gap-2">
        <i data-lucide="heart" class="w-5 h-5"></i> My Wishlist
      </h3>
      <div id="wishlistItems" class="space-y-4"></div>
    </div>

    <!-- Footer -->
    <footer
      class="bg-background border-t border-gray-200 font-poppins font-light"
    >
      <div class="container mx-auto px-4 py-6">
        <!-- Newsletter -->
        <div class="max-w-md mx-auto mb-6">
          <h3 class="text-lg font-semibold text-text mb-3 text-center">
            Subscribe for updates
          </h3>
          <form class="flex gap-2">
            <input
              type="email"
              placeholder="Email address"
              class="flex-1 p-3 rounded-lg neumorphic-inset text-text"
            />
            <button
              class="px-6 py-3 bg-transparent text-black rounded-lg font-medium border border-black hover:bg-black hover:text-white transition-colors duration-150"
            >
              Sign Up
            </button>
          </form>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-4">
          <!-- Social Media -->
          <div>
            <h4 class="font-poppins font-semibold text-text mb-3">
              Social Media
            </h4>
            <ul class="space-y-2 font-light">
              <li>
                <a
                  href="#"
                  class="flex items-center gap-2 text-text hover:text-primary transition-colors duration-150"
                >
                  <i
                    data-lucide="instagram"
                    class="w-5 h-5 opacity-60 hover:opacity-100 transition-opacity duration-150"
                  ></i>
                  <span>@duygu</span>
                </a>
              </li>
              <li>
                <a
                  href="#"
                  class="flex items-center gap-2 text-text hover:text-primary transition-colors duration-150"
                >
                  <i
                    data-lucide="facebook"
                    class="w-5 h-5 opacity-60 hover:opacity-100 transition-opacity duration-150"
                  ></i>
                  <span>Facebook</span>
                </a>
              </li>
              <li>
                <a
                  href="#"
                  class="flex items-center gap-2 text-text hover:text-primary transition-colors duration-150"
                >
                  <i
                    data-lucide="music"
                    class="w-5 h-5 opacity-60 hover:opacity-100 transition-opacity duration-150"
                  ></i>
                  <span>TikTok</span>
                </a>
              </li>
            </ul>
          </div>

          <!-- Categories -->
          <div>
            <h4 class="font-poppins font-semibold text-text mb-3">
              Categories
            </h4>
            <ul class="space-y-2 font-light">
              <li>
                <a
                  href="#"
                  class="text-text hover:text-primary transition-colors duration-150"
                  >Collections</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-text hover:text-primary transition-colors duration-150"
                  >New Arrivals</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-text hover:text-primary transition-colors duration-150"
                  >Tops</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-text hover:text-primary transition-colors duration-150"
                  >Bottoms</a
                >
              </li>
            </ul>
          </div>

          <!-- Information -->
          <div>
            <h4 class="font-poppins font-semibold text-text mb-3">
              Information
            </h4>
            <ul class="space-y-2 font-light">
              <li>
                <a
                  href="#"
                  class="text-text hover:text-primary transition-colors duration-150"
                  >Shipping & Delivery</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-text hover:text-primary transition-colors duration-150"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-text hover:text-primary transition-colors duration-150"
                  >Return Policy</a
                >
              </li>
            </ul>
          </div>

          <!-- Quick Links -->
          <div>
            <h4 class="font-poppins font-semibold text-text mb-3">
              Quick Links
            </h4>
            <ul class="space-y-2 font-light">
              <li>
                <a
                  href="#"
                  class="text-text hover:text-primary transition-colors duration-150"
                  >Home</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-text hover:text-primary transition-colors duration-150"
                  >Customer Service</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-text hover:text-primary transition-colors duration-150"
                  >My Cart</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-text hover:text-primary transition-colors duration-150"
                  >Contact Us</a
                >
              </li>
            </ul>
          </div>
        </div>

        <!-- Payment Badges -->
        <div class="flex justify-center gap-2 mb-4">
          <div class="neumorphic p-2 rounded-lg">
            <span
              class="text-sm font-medium opacity-60 hover:opacity-100 transition-opacity duration-150"
              >PayPal</span
            >
          </div>
          <div class="neumorphic p-2 rounded-lg">
            <span
              class="text-sm font-medium opacity-60 hover:opacity-100 transition-opacity duration-150"
              >Visa</span
            >
          </div>
          <div class="neumorphic p-2 rounded-lg">
            <span
              class="text-sm font-medium opacity-60 hover:opacity-100 transition-opacity duration-150"
              >Mastercard</span
            >
          </div>
          <div class="neumorphic p-2 rounded-lg">
            <span
              class="text-sm font-medium opacity-60 hover:opacity-100 transition-opacity duration-150"
              >Amex</span
            >
          </div>
        </div>

        <!-- App Download -->
        <div class="flex justify-center gap-2 mb-4">
          <a
            href="#"
            class="neumorphic p-2 rounded-lg hover:bg-primary hover:text-white transition-colors duration-150"
          >
            <i
              data-lucide="apple"
              class="w-6 h-6 opacity-60 hover:opacity-100 transition-opacity duration-150"
            ></i>
          </a>
          <a
            href="#"
            class="neumorphic p-2 rounded-lg hover:bg-primary hover:text-white transition-colors duration-150"
          >
            <i
              data-lucide="android"
              class="w-6 h-6 opacity-60 hover:opacity-100 transition-opacity duration-150"
            ></i>
          </a>
        </div>

        <!-- Footer Bottom -->
        <div class="text-center text-xs text-gray-500">
          © 2025 Atylmaz Software. All rights reserved.
        </div>
      </div>
    </footer>

    <script>
      // Initialize Lucide icons
      lucide.createIcons();

      // Left menu functionality
      function toggleLeftMenu() {
        const leftMenu = document.getElementById("leftMenu");
        const menuOverlay = document.getElementById("menuOverlay");
        leftMenu.classList.toggle("active");
        menuOverlay.classList.toggle("active");
      }

      // Bottom sheet functionality
      function toggleBottomSheet() {
        const bottomSheet = document.getElementById("bottomSheet");
        bottomSheet.classList.toggle("active");
      }

      // Close menu when clicking overlay
      document
        .getElementById("menuOverlay")
        .addEventListener("click", toggleLeftMenu);

      // Product data
      const products = [
        {
          id: 1,
          name: "Premium Cotton Oxford Shirt",
          variant: "Slim Fit",
          price: 89.99,
          description: "Premium cotton oxford shirt with button-down collar",
          gender: "men",
          category: "shirt",
          fabric: "cotton",
          color: "white",
          isEdition: true,
          images: [
            "https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1602810319428-019690571b5b?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1603252109303-2751441dd157?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1589310243389-96a5483213a8?fit=crop&w=800&h=800",
          ],
          arModel: {
            glb: "models/shirt_model.glb",
            poster:
              "https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf?fit=crop&w=800&h=800",
          },
        },
        {
          id: 2,
          name: "Slim Fit Chinos",
          variant: "Stretch Cotton",
          price: 79.99,
          description: "Modern slim fit chinos in stretch cotton blend",
          gender: "men",
          category: "pants",
          fabric: "blend",
          color: "black",
          isEdition: false,
          images: [
            "https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1473966968600-fa801b869a1a?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1529374255404-311a2a4f1fd9?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1475180098004-ca77a66827be?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 3,
          name: "Essential Cotton T-Shirt",
          variant: "Regular Fit",
          price: 29.99,
          description: "Soft cotton t-shirt with crew neck",
          gender: "men",
          category: "tshirt",
          fabric: "cotton",
          color: "lightblue",
          isEdition: true,
          images: [
            "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1562157873-818bc0726f68?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1529374255404-311a2a4f1fd9?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1598032895397-b9472444bf93?fit=crop&w=800&h=800",
          ],
          arModel: {
            glb: "models/tshirt_model.glb",
            poster:
              "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?fit=crop&w=800&h=800",
          },
        },
        {
          id: 4,
          name: "Classic Denim Jacket",
          variant: "Vintage Wash",
          price: 129.99,
          description: "Timeless denim jacket with button closures",
          gender: "men",
          category: "jacket",
          fabric: "denim",
          color: "blue",
          isEdition: true,
          images: [
            "https://images.unsplash.com/photo-1495105787522-5334e3ffa0ef?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1576871337622-98d48d1cf531?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1529374255404-311a2a4f1fd9?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1611312449412-6cefac5dc3e4?fit=crop&w=800&h=800",
          ],
          arModel: {
            glb: "models/jacket_model.glb",
            poster:
              "https://images.unsplash.com/photo-1495105787522-5334e3ffa0ef?fit=crop&w=800&h=800",
          },
        },
        {
          id: 5,
          name: "Vintage Wash Denim Jacket",
          variant: "Relaxed Fit",
          price: 149.99,
          description:
            "Classic denim jacket with vintage wash treatment and button closures. Features adjustable waist tabs and authentic detailing.",
          gender: "women",
          category: "jacket",
          fabric: "denim",
          color: "light blue",
          isEdition: true,
          images: [
            "https://images.unsplash.com/photo-1551537482-f2075a1d41f2?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1611312449412-6cefac5dc3e4?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1529374255404-311a2a4f1fd9?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1544642899-f0d6e5f6ed6f?fit=crop&w=800&h=800",
          ],
          arModel: {
            glb: "models/womens_jacket_model.glb",
            poster:
              "https://images.unsplash.com/photo-1551537482-f2075a1d41f2?fit=crop&w=800&h=800",
          },
        },
        {
          id: 6,
          name: "High-Rise Skinny Jeans",
          variant: "Ankle Length",
          price: 89.99,
          description:
            "Premium stretch denim jeans with a flattering high-rise waist and skinny leg. Features a five-pocket design and ankle-length cut.",
          gender: "women",
          category: "pants",
          fabric: "denim",
          color: "indigo",
          isEdition: false,
          images: [
            "https://images.unsplash.com/photo-1584370848010-d7fe6bc767ec?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1541099649105-f69ad21f3246?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1475180098004-ca77a66827be?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1539533018447-63fcce2678e3?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 7,
          name: "Printed Silk Blouse",
          variant: "Loose Fit",
          price: 129.99,
          description:
            "Luxurious silk blouse with an artful abstract print. Features a relaxed silhouette with dropped shoulders and a curved hem.",
          gender: "women",
          category: "shirt",
          fabric: "blend",
          color: "multicolor",
          isEdition: true,
          images: [
            "https://images.unsplash.com/photo-1564257631407-4deb1f99d992?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1589810635657-232948472d98?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1554568218-0f1715e72254?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1485462537746-965f33f7f6a7?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 8,
          name: "Tailored Wool Blazer",
          variant: "Single-Breasted",
          price: 199.99,
          description:
            "Premium wool-blend blazer with a tailored fit and subtle check pattern. Features notched lapels, flap pockets, and a single vent.",
          gender: "men",
          category: "jacket",
          fabric: "blend",
          color: "charcoal",
          isEdition: false,
          images: [
            "https://images.unsplash.com/photo-1617137968427-85924c800a22?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1598554747436-c9293d6a588f?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1507679799987-c73779587ccf?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 9,
          name: "Retro Stripe Tee",
          variant: "Regular Fit",
          price: 39.99,
          description:
            "Soft cotton t-shirt with bold retro stripes. Features a classic crew neck and short sleeves for a timeless casual look.",
          gender: "men",
          category: "tshirt",
          fabric: "cotton",
          color: "navy/white",
          isEdition: true,
          images: [
            "https://images.unsplash.com/photo-1576566588028-4147f3842f27?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1529374255404-311a2a4f1fd9?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1516826957135-700dedea698c?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1596755094514-f87e34085b2c?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 10,
          name: "Cropped Cargo Pants",
          variant: "Relaxed Fit",
          price: 79.99,
          description:
            "Versatile cargo pants with a modern cropped length and relaxed fit. Features multiple pockets and an adjustable drawstring waist.",
          gender: "women",
          category: "pants",
          fabric: "cotton",
          color: "olive",
          isEdition: false,
          images: [
            "https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1539533018447-63fcce2678e3?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1525507119028-ed4c629a60a3?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1535530705774-695729778c55?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 11,
          name: "Linen Button-Down Shirt",
          variant: "Oversized",
          price: 69.99,
          description:
            "Breathable linen shirt with a relaxed, oversized fit. Perfect for warm weather with its lightweight fabric and classic button-down design.",
          gender: "women",
          category: "shirt",
          fabric: "blend",
          color: "white",
          isEdition: true,
          images: [
            "https://images.unsplash.com/photo-1594938291221-94f18cbb5660?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1539533018447-63fcce2678e3?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1598032895397-b9472444bf93?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1618677366787-9727aacca7ea?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 12,
          name: "Cotton Chino Shorts",
          variant: "Classic Fit",
          price: 49.99,
          description:
            "Classic chino shorts made from soft cotton twill. Features a comfortable fit with side pockets and a clean, tailored look.",
          gender: "men",
          category: "shorts",
          fabric: "cotton",
          color: "beige",
          isEdition: false,
          images: [
            "https://images.unsplash.com/photo-1519211975560-4ca611f5a72a?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1565693413579-8ff3fdc1b03b?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1575429198097-0414ec08e8cd?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1560243563-062bfc001d68?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 13,
          name: "Quilted Puffer Jacket",
          variant: "Cropped",
          price: 159.99,
          description:
            "Lightweight quilted puffer jacket with water-resistant finish. Features a cropped silhouette, stand collar, and secure zippered pockets.",
          gender: "women",
          category: "outerwear",
          fabric: "blend",
          color: "black",
          isEdition: true,
          images: [
            "https://images.unsplash.com/photo-1548126032-079a0fb0099d?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1539533018447-63fcce2678e3?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1611312449408-fcece27cdbb7?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1600950207944-0d63e8edbc3f?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 14,
          name: "Distressed Slim Jeans",
          variant: "Low Rise",
          price: 99.99,
          description:
            "Premium denim jeans with authentic distressing and abrasions. Features a comfortable stretch fabric with a slim fit and low rise waist.",
          gender: "men",
          category: "pants",
          fabric: "denim",
          color: "medium wash",
          isEdition: false,
          images: [
            "https://images.unsplash.com/photo-1542272604-787c3835535d?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1555689502-c4b22d76c56f?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1582552938357-32b906df40cb?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1608228088998-57828365d486?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 15,
          name: "Graphic Print Sweatshirt",
          variant: "Boxy Fit",
          price: 59.99,
          description:
            "Cozy cotton-blend sweatshirt with statement graphic print. Features a modern boxy fit with dropped shoulders and ribbed trims.",
          gender: "women",
          category: "outerwear",
          fabric: "cotton",
          color: "gray",
          isEdition: true,
          images: [
            "https://images.unsplash.com/photo-1551489186-cf8726f514f8?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1548883354-94bcfe321cbb?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1564859228273-274232fdb516?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1577655197620-704858b270ac?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 16,
          name: "Lightweight Bomber Jacket",
          variant: "Athletic Fit",
          price: 129.99,
          description:
            "Modern bomber jacket in lightweight technical fabric. Features ribbed collar, cuffs, and hem with a sleek zip front and functional pockets.",
          gender: "men",
          category: "jacket",
          fabric: "blend",
          color: "navy",
          isEdition: false,
          images: [
            "https://images.unsplash.com/photo-1551028719-00167b16eac5?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1495105787522-5334e3ffa0ef?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1521223890158-f9f7c3d5d504?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1548883354-94bcfe321cbb?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 17,
          name: "Pleated Midi Skirt",
          variant: "A-Line",
          price: 79.99,
          description:
            "Elegant pleated midi skirt with flowing A-line silhouette. Features an elastic waistband for comfort and a sophisticated drape.",
          gender: "women",
          category: "pants",
          fabric: "blend",
          color: "emerald",
          isEdition: true,
          images: [
            "https://images.unsplash.com/photo-1583496661160-fb5886a0aaaa?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1572804013309-59a88b7e92f1?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1551028719-00167b16eac5?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1551489186-cf8726f514f8?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 18,
          name: "Henley Long Sleeve Tee",
          variant: "Slim Fit",
          price: 45.99,
          description:
            "Soft jersey cotton Henley with three-button placket. Features a slim fit silhouette and comfortable long sleeves with ribbed cuffs.",
          gender: "men",
          category: "tshirt",
          fabric: "cotton",
          color: "burgundy",
          isEdition: false,
          images: [
            "https://images.unsplash.com/photo-1608030609295-a581b8f46672?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1588359348347-9bc6cbbb689e?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1551489186-cf8726f514f8?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1525171254930-643fc658b64e?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 19,
          name: "Relaxed Fit Loungewear Set",
          variant: "Oversized",
          price: 89.99,
          description:
            "Premium cotton loungewear set with matching top and bottoms. Features a relaxed, oversized fit with drawstring waist and subtle tonal details.",
          gender: "women",
          category: "outerwear",
          fabric: "cotton",
          color: "cream",
          isEdition: true,
          images: [
            "https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1483181994834-aba9fd1e251a?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1556905055-8f358a7a47b2?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1611312449408-fcece27cdbb7?fit=crop&w=800&h=800",
          ],
        },
        {
          id: 20,
          name: "Premium Cashmere Sweater",
          variant: "Turtleneck",
          price: 199.99,
          description:
            "Luxurious 100% cashmere sweater with ribbed turtleneck. Features timeless design with comfortable relaxed fit and exceptional warmth.",
          gender: "women",
          category: "outerwear",
          fabric: "cashmere",
          color: "camel",
          isEdition: true,
          images: [
            "https://images.unsplash.com/photo-1576871337632-b9aef4c17ab9?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1551028719-00167b16eac5?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1596703263926-eb0762ee17e4?fit=crop&w=800&h=800",
            "https://images.unsplash.com/photo-1556905055-8f358a7a47b2?fit=crop&w=800&h=800",
          ],
        },
      ];

      // Wishlist state
      let favorites = [];

      // Filter state
      let activeFilters = {
        gender: null,
        category: null,
        fabric: null,
        color: null,
      };

      // Render product card
      function renderProductCard(product) {
        const isFavorite = favorites.includes(product.id);
        return `
          <div class="product-card group cursor-pointer relative" onclick="showProductDetail(${
            product.id
          })" data-id="${product.id}" data-current="0">
            <!-- Image Container -->
            <div class="relative image-wrapper">
              <img src="${product.images[0]}" alt="${
          product.name
        }" class="w-full md:h-[60vh] md:object-cover md:aspect-[3/4] aspect-square object-cover rounded-lg">
              
              <!-- Navigation Arrows -->
              <button 
                class="nav-arrow absolute top-1/2 -translate-y-1/2 left-3 w-6 h-6 rounded-full bg-white/40 border border-white flex items-center justify-center opacity-30 sm:opacity-30 md:opacity-0 group-hover:opacity-100 transition-opacity" 
                onclick="slideImage(event, -1)" 
                role="button" 
                aria-label="Previous image"
              >
                <i data-lucide="chevron-left" class="w-4 h-4"></i>
              </button>
              <button 
                class="nav-arrow absolute top-1/2 -translate-y-1/2 right-3 w-6 h-6 rounded-full bg-white/40 border border-white flex items-center justify-center opacity-30 sm:opacity-30 md:opacity-0 group-hover:opacity-100 transition-opacity" 
                onclick="slideImage(event, 1)" 
                role="button" 
                aria-label="Next image"
              >
                <i data-lucide="chevron-right" class="w-4 h-4"></i>
              </button>
              
              <!-- Favorite Button - positioned in bottom-right corner of image container -->
              <button 
                onclick="toggleFavorite(${
                  product.id
                }); event.stopPropagation();" 
                class="absolute bottom-3 right-3 p-2 rounded-full ${
                  isFavorite
                    ? "bg-gray-200"
                    : "bg-gray-100/50 hover:bg-gray-100"
                } transition-colors duration-150 shadow-sm"
              >
                <i id="heart-${
                  product.id
                }" data-lucide="heart" class="w-5 h-5 ${
          isFavorite ? "fill-red-500 stroke-red-500" : "text-gray-400"
        }"></i>
              </button>
            </div>
            
            <!-- Thumbnail Row -->
            <div class="flex space-x-1 overflow-x-auto pb-2 mt-2">
              ${product.images
                .map(
                  (img, index) => `
                <img 
                  src="${img}" 
                  alt="Thumbnail ${index + 1}" 
                  class="w-6 h-6 rounded object-cover cursor-pointer hover:opacity-75 transition-opacity duration-150"
                  onclick="setImageByIndex(event, ${index})"
                >
              `
                )
                .join("")}
            </div>
            
            <!-- Product Info -->
            <div class="space-y-1 mt-2">
              ${
                product.isEdition
                  ? `<p class="text-xs uppercase tracking-wider text-gray-500 mt-2 font-light">Duygu Edition</p>`
                  : ""
              }
              <h3 class="font-semibold text-sm text-black">${product.name}</h3>
              <p class="text-xs text-gray-600 font-light">${product.variant}</p>
              <p class="font-bold text-black">${
                "$" + product.price.toFixed(2)
              }</p>
            </div>
          </div>
        `;
      }

      // Show product detail view
      function showProductDetail(productId) {
        const product = products.find((p) => p.id === productId);
        if (!product) return;

        // Hide product grid, show detail view
        document.getElementById("productGrid").classList.add("hidden");
        const productDetail = document.getElementById("productDetail");
        productDetail.classList.remove("hidden");

        const isFavorite = favorites.includes(product.id);

        // Check if AR model exists and if the device is mobile
        const hasArModel = product.arModel && product.arModel.glb;
        const isMobile = isMobileDevice();
        const showArButton = hasArModel && isMobile;

        // Render product detail
        productDetail.innerHTML = `
          <div class="grid grid-cols-1 md:grid-cols-12 gap-8">
            <!-- Product Images - 8 columns on desktop -->
            <div class="md:col-span-8">
              <!-- Gallery Container with 2×2 grid -->
              <div class="grid grid-cols-2 gap-4 w-full">
                ${product.images
                  .slice(0, 4)
                  .map(
                    (img) => `
                  <img src="${img}" 
                      alt="${product.name}" 
                      class="w-full aspect-square object-cover rounded-lg shadow-md">
                `
                  )
                  .join("")}
              </div>
              
              ${
                hasArModel
                  ? `
              <!-- AR Model Viewer (hidden by default) -->
              <div id="ar-container" class="hidden mt-4 rounded-lg overflow-hidden">
                <model-viewer
                  src="${product.arModel.glb}"
                  poster="${product.arModel.poster}"
                  alt="${product.name} 3D model"
                  ar-modes="webxr scene-viewer quick-look"
                  camera-controls
                  auto-rotate
                  ar
                  ar-scale="fixed"
                  shadow-intensity="1"
                  environment-image="neutral"
                  style="width: 100%; height: 400px; background-color: #f0f0f3;"
                >
                  <button slot="ar-button" class="ar-button">
                    View in your space
                  </button>
                </model-viewer>
              </div>
              `
                  : ""
              }
            </div>
            
            <!-- Product Info - 4 columns on desktop -->
            <div class="md:col-span-4">
              ${
                product.isEdition
                  ? `<p class="text-xs uppercase tracking-wider text-gray-500 mb-1 font-light">Duygu Edition</p>`
                  : ""
              }
              <h1 class="text-2xl font-extrabold text-black mb-1">${
                product.name
              }</h1>
              <p class="text-sm text-gray-600 italic mb-3 font-light">${
                product.variant
              }</p>
              <p class="text-xl font-light text-black mb-4">${
                "$" + product.price.toFixed(2)
              }</p>
              
              <div class="mb-4">
                <h2 class="font-light text-black mb-1">Description</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <p class="text-gray-700 font-light text-base leading-relaxed">
                    ${
                      product.description
                    } Our quality fabrics ensure premium comfort and lasting durability for everyday wear.
                  </p>
                  <p class="text-gray-700 font-light text-base leading-relaxed">
                    Designed in our studio with attention to detail and contemporary style that complements any wardrobe.
                  </p>
                </div>
              </div>
              
              <div class="space-y-2 mb-6">
                <button class="bg-black text-white py-2 rounded-lg w-full font-light">Add to Cart</button>
                <button class="border border-black text-black py-2 rounded-lg w-full font-light flex items-center justify-center gap-2" onclick="toggleFavorite(${
                  product.id
                })">
                  <i id="detail-heart-${
                    product.id
                  }" data-lucide="heart" class="${
          isFavorite ? "fill-red-500 stroke-red-500" : "text-gray-400"
        } w-5 h-5"></i>
                  <span>${
                    isFavorite ? "Added to Wishlist" : "Add to Wishlist"
                  }</span>
                </button>
                ${
                  showArButton
                    ? `
                <button class="bg-gradient-to-r from-blue-500 to-purple-500 text-white py-2 rounded-lg w-full font-light flex items-center justify-center gap-2" onclick="showArView(${productId})">
                  <i data-lucide="smartphone" class="w-5 h-5"></i>
                  <span>Try on in AR</span>
                </button>
                `
                    : ""
                }
              </div>
              
              <!-- Details as paragraphs -->
              <div class="space-y-1 text-sm text-gray-700 mb-6">
                <p>Material: ${product.fabric}</p>
                <p>Color: ${product.color}</p>
                <p>Gender: ${product.gender}</p>
                <p>Fit: Regular fit</p>
                <p>Care: Machine washable</p>
              </div>
              
              <!-- Accordions -->
              <div class="space-y-3 mb-6">
                <!-- Shipping & Returns -->
                <div class="border-b border-gray-200 pb-2">
                  <button class="flex justify-between items-center w-full text-left font-light" 
                          onclick="toggleAccordion('shipping')">
                    <span>Shipping & Returns</span>
                    <i data-lucide="chevron-down" class="w-5 h-5"></i>
                  </button>
                  <div id="shipping" class="hidden pt-2">
                    <p class="text-sm text-gray-700 font-light">Free shipping on orders over $100. Returns accepted within 30 days of delivery.</p>
                  </div>
                </div>
                
                <!-- Care Instructions -->
                <div class="border-b border-gray-200 pb-2">
                  <button class="flex justify-between items-center w-full text-left font-light"
                          onclick="toggleAccordion('care')">
                    <span>Care Instructions</span>
                    <i data-lucide="chevron-down" class="w-5 h-5"></i>
                  </button>
                  <div id="care" class="hidden pt-2">
                    <p class="text-sm text-gray-700 font-light">Machine wash cold with similar colors. Tumble dry low.</p>
                  </div>
                </div>
                
                <!-- Size & Fit -->
                <div class="border-b border-gray-200 pb-2">
                  <button class="flex justify-between items-center w-full text-left font-light"
                          onclick="toggleAccordion('size')">
                    <span>Size & Fit</span>
                    <i data-lucide="chevron-down" class="w-5 h-5"></i>
                  </button>
                  <div id="size" class="hidden pt-2">
                    <p class="text-sm text-gray-700 font-light">Model is 6'1" and wearing size M. Fits true to size.</p>
                  </div>
                </div>
              </div>
              
              <button class="mt-4 inline-block text-sm text-black underline font-light" onclick="hideProductDetail()">Back to Products</button>
            </div>
          </div>
        `;

        // Initialize icons after rendering detail
        lucide.createIcons();
      }

      // Initialize product gallery thumbnails
      function initProductGallery() {
        const galleryMain = document.getElementById("galleryMain");
        const thumbnails = document.querySelectorAll(".gallery-thumb");

        thumbnails.forEach((thumb) => {
          thumb.addEventListener("click", function () {
            // Update main image src
            galleryMain.src = this.getAttribute("data-src");

            // Update active state
            document
              .querySelectorAll(".gallery-thumb-container")
              .forEach((container) => {
                container.classList.remove("active");
                container
                  .querySelector(".rounded-full")
                  .classList.add("opacity-0");
                container
                  .querySelector(".rounded-full")
                  .classList.remove("opacity-100");
              });

            // Highlight current thumbnail
            const container = this.closest(".gallery-thumb-container");
            container.classList.add("active");
            container
              .querySelector(".rounded-full")
              .classList.remove("opacity-0");
            container
              .querySelector(".rounded-full")
              .classList.add("opacity-100");
          });

          // Optional: Also handle mouseover for desktop
          thumb.addEventListener("mouseover", function () {
            // Update main image src
            galleryMain.src = this.getAttribute("data-src");

            // Update active state
            document
              .querySelectorAll(".gallery-thumb-container")
              .forEach((container) => {
                container.classList.remove("active");
                container
                  .querySelector(".rounded-full")
                  .classList.add("opacity-0");
                container
                  .querySelector(".rounded-full")
                  .classList.remove("opacity-100");
              });

            // Highlight current thumbnail
            const container = this.closest(".gallery-thumb-container");
            container.classList.add("active");
            container
              .querySelector(".rounded-full")
              .classList.remove("opacity-0");
            container
              .querySelector(".rounded-full")
              .classList.add("opacity-100");
          });
        });
      }

      // Toggle accordion sections
      function toggleAccordion(id) {
        const content = document.getElementById(id);
        content.classList.toggle("hidden");
      }

      // Hide product detail view
      function hideProductDetail() {
        document.getElementById("productDetail").classList.add("hidden");
        document.getElementById("productGrid").classList.remove("hidden");
      }

      // Toggle favorite
      function toggleFavorite(productId) {
        const index = favorites.indexOf(productId);
        if (index === -1) {
          favorites.push(productId);
        } else {
          favorites.splice(index, 1);
        }

        // Update all UI elements
        updateWishlistUI();
      }

      // Update wishlist UI
      function updateWishlistUI() {
        const wishlistCount = document.getElementById("wishlistCount");
        const wishlistItems = document.getElementById("wishlistItems");
        const favList = document.getElementById("favList");
        const wishlistPanel = document.getElementById("wishlistPanel");

        // Update count badge
        wishlistCount.textContent = favorites.length;

        // Update heart icons in all product cards
        products.forEach((product) => {
          const heartIcon = document.getElementById(`heart-${product.id}`);
          const detailHeartIcon = document.getElementById(
            `detail-heart-${product.id}`
          );
          const isFavorite = favorites.includes(product.id);

          if (heartIcon) {
            if (isFavorite) {
              heartIcon.classList.add("fill-red-500", "stroke-red-500");
              heartIcon.classList.remove("text-gray-400");
            } else {
              heartIcon.classList.remove("fill-red-500", "stroke-red-500");
              heartIcon.classList.add("text-gray-400");
            }
          }

          if (detailHeartIcon) {
            if (isFavorite) {
              detailHeartIcon.classList.add("fill-red-500", "stroke-red-500");
              detailHeartIcon.classList.remove("text-gray-400");
              detailHeartIcon.nextElementSibling.textContent =
                "Added to Wishlist";
            } else {
              detailHeartIcon.classList.remove(
                "fill-red-500",
                "stroke-red-500"
              );
              detailHeartIcon.classList.add("text-gray-400");
              detailHeartIcon.nextElementSibling.textContent =
                "Add to Wishlist";
            }
          }
        });

        // Update wishlist flyout panel
        if (wishlistItems) {
          if (favorites.length > 0) {
            const list = favorites
              .map((id) => {
                const p = products.find((x) => x.id === id);
                return `<div class="flex gap-3 items-center">
                  <img src="${
                    p.images[0]
                  }" class="w-16 h-16 rounded object-cover" />
                  <div class="flex-1">
                    <p class="text-sm font-medium truncate">${p.name}</p>
                    <p class="text-xs text-gray-500">$${p.price.toFixed(2)}</p>
                  </div>
                  <button onclick="toggleFavorite(${id});event.stopPropagation();" class="p-1 hover:text-red-600" title="Remove">
                    <i data-lucide="x"></i>
                  </button>
                </div>`;
              })
              .join("");
            wishlistItems.innerHTML = list;
          } else {
            wishlistItems.innerHTML =
              "<p class='text-sm text-gray-500 font-light'>Your wishlist is empty.</p>";
            if (!wishlistPanel.classList.contains("hidden")) {
              wishlistPanel.classList.add("hidden");
            }
          }
        }

        // Update favorites panel
        if (favList) {
          if (favorites.length > 0) {
            const list = favorites
              .map((id) => {
                const p = products.find((x) => x.id === id);
                return `<div class="flex gap-3">
                  <img src="${
                    p.images[0]
                  }" class="w-12 h-12 object-cover rounded">
                  <div class="flex-1">
                    <p class="text-sm font-medium">${p.name}</p>
                    <p class="text-xs text-gray-500 font-light">$${p.price.toFixed(
                      2
                    )}</p>
                  </div>
                  <button onclick="toggleFavorite(${p.id})" class="text-black">
                    <i data-lucide="x" class="w-4 h-4"></i>
                  </button>
                </div>`;
              })
              .join("");
            favList.innerHTML = list;
          } else {
            favList.innerHTML =
              "<p class='text-sm text-gray-500 font-light'>No favourites yet.</p>";
          }
        }

        // Reinitialize icons
        lucide.createIcons();
      }

      // Toggle favorites panel
      function toggleFavPanel() {
        const panel = document.getElementById("favPanel");
        panel.classList.toggle("translate-x-full");

        // Refresh icons when panel is opened
        if (!panel.classList.contains("translate-x-full")) {
          lucide.createIcons();
        }
      }

      // Toggle wishlist flyout
      function toggleWishlistPanel() {
        const panel = document.getElementById("wishlistPanel");
        panel.classList.toggle("hidden");

        if (!panel.classList.contains("hidden")) {
          updateWishlistUI();
        }
      }

      // Filter products
      function filterProducts() {
        const gender = document.getElementById("filter-gender").value || null;
        const category =
          document.getElementById("filter-category").value || null;
        const fabric = document.getElementById("filter-fabric").value || null;
        const color = document.getElementById("filter-color").value || null;
        const searchQuery = document
          .getElementById("searchInput")
          .value.toLowerCase();

        return products.filter((product) => {
          return (
            (!gender || product.gender === gender) &&
            (!category || product.category === category) &&
            (!fabric || product.fabric === fabric) &&
            (!color || product.color === color) &&
            (!searchQuery ||
              product.name.toLowerCase().includes(searchQuery) ||
              product.description.toLowerCase().includes(searchQuery))
          );
        });
      }

      // Render products
      function renderProducts() {
        const filteredProducts = filterProducts();
        const productGrid = document.getElementById("productGrid");
        productGrid.innerHTML = filteredProducts
          .map(renderProductCard)
          .join("");
        lucide.createIcons();

        // Initialize product navigation arrows after rendering
        initializeProductArrows();
      }

      // Initialize filter buttons
      document.querySelectorAll("[data-filter]").forEach((button) => {
        button.addEventListener("click", () => {
          const filterType = button.dataset.filter;
          const filterValue = button.dataset.value;

          // Toggle filter
          if (activeFilters[filterType] === filterValue) {
            activeFilters[filterType] = null;
            button.classList.remove("bg-black", "text-white");
          } else {
            // Clear other filters of the same type
            document
              .querySelectorAll(`[data-filter="${filterType}"]`)
              .forEach((btn) => {
                btn.classList.remove("bg-black", "text-white");
              });

            activeFilters[filterType] = filterValue;
            button.classList.add("bg-black", "text-white");
          }

          renderProducts();

          // If product detail is open, go back to product grid
          hideProductDetail();
        });
      });

      // Initial render
      renderProducts();

      // Initialize wishlist
      updateWishlistUI();

      // Initialize event listeners
      document
        .getElementById("wishlistBtn")
        .addEventListener("click", toggleWishlistPanel);

      // Initialize filter dropdowns and search
      document.querySelectorAll("select").forEach((sel) =>
        sel.addEventListener("change", () => {
          renderProducts();
          hideProductDetail();
          updateWishlistUI();
        })
      );

      // Initialize search functionality
      document.getElementById("searchInput").addEventListener("keyup", () => {
        renderProducts();
        hideProductDetail();
        updateWishlistUI();
      });

      // Promo Carousel Functionality
      const carouselTrack = document.getElementById("carouselTrack");
      const prevBtn = document.getElementById("prevBtn");
      const nextBtn = document.getElementById("nextBtn");
      const paginationDots = document.querySelectorAll("[data-index]");
      let currentIndex = 0;
      const totalSlides = 4;

      // Show banner with fade-in effect
      setTimeout(() => {
        document.getElementById("promoBanner").style.opacity = "1";
      }, 100);

      function updateCarouselState() {
        // Update buttons
        prevBtn.disabled = currentIndex === 0;
        nextBtn.disabled = currentIndex === totalSlides - 1;

        // Update pagination dots
        paginationDots.forEach((dot, index) => {
          dot.style.opacity = index === currentIndex ? "1" : "0.5";
        });
      }

      function scrollToIndex(index) {
        if (index < 0 || index >= totalSlides) return;

        currentIndex = index;
        const slideWidth = carouselTrack.clientWidth;
        carouselTrack.scrollTo({
          left: slideWidth * currentIndex,
          behavior: "smooth",
        });

        updateCarouselState();
      }

      // Button click handlers
      prevBtn.addEventListener("click", () => {
        scrollToIndex(currentIndex - 1);
      });

      nextBtn.addEventListener("click", () => {
        scrollToIndex(currentIndex + 1);
      });

      // Pagination click handlers
      paginationDots.forEach((dot, index) => {
        dot.addEventListener("click", () => {
          scrollToIndex(index);
        });
      });

      // Keyboard navigation
      document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowLeft") {
          scrollToIndex(currentIndex - 1);
        } else if (e.key === "ArrowRight") {
          scrollToIndex(currentIndex + 1);
        }
      });

      // Initialize carousel state
      updateCarouselState();

      // Document ready function
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize rendering
        renderProducts();

        // Show promo banner only on homepage
        if (
          window.location.pathname === "/" ||
          window.location.pathname === "/index.html"
        ) {
          const promoBanner = document.getElementById("promoBanner");
          promoBanner.classList.remove("hidden");

          // Show banner with fade-in effect
          setTimeout(() => {
            promoBanner.style.opacity = "1";
          }, 100);
        }

        // Initialize wishlist badge
        document.getElementById("wishlistCount").textContent = favorites.length;

        // Add event listeners for navigation arrows after rendering products
        initializeProductArrows();

        // Fix root links to always point to index.html
        document.querySelectorAll('a[href="/"], a[href="#"]').forEach((a) => {
          a.addEventListener("click", (e) => {
            e.preventDefault();
            window.location.href = "index.html"; // always lands on home
          });
        });
      });

      // Helper function to detect mobile devices
      function isMobileDevice() {
        return (
          /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
            navigator.userAgent
          ) || window.innerWidth <= 768
        );
      }

      // Function to initialize product arrows after rendering
      function initializeProductArrows() {
        document.querySelectorAll(".product-card").forEach((card) => {
          const leftArrow = card.querySelector(".nav-arrow:first-child");
          const rightArrow = card.querySelector(".nav-arrow:last-child");
          const productId = parseInt(
            card.getAttribute("onclick").match(/\d+/)[0]
          );
          const product = products.find((p) => p.id === productId);

          if (leftArrow && rightArrow && product) {
            let currentIndex = 0;

            leftArrow.addEventListener("click", (e) => {
              e.stopPropagation();
              if (currentIndex > 0) {
                currentIndex--;
                const mainImage = card.querySelector(".image-wrapper img");
                mainImage.src = product.images[currentIndex];
              }
            });

            rightArrow.addEventListener("click", (e) => {
              e.stopPropagation();
              if (currentIndex < product.images.length - 1) {
                currentIndex++;
                const mainImage = card.querySelector(".image-wrapper img");
                mainImage.src = product.images[currentIndex];
              }
            });
          }
        });
      }

      // Helper function to update main image by index
      function updateImageByIndex(card, index) {
        const product = products.find(
          (p) => p.id === parseInt(card.getAttribute("onclick").match(/\d+/)[0])
        );
        if (!product) return;

        const mainImage = card.querySelector(".image-wrapper img");
        if (mainImage && product.images.length > index) {
          mainImage.src = product.images[index];
        }
      }

      // Slide image in product card
      function slideImage(event, delta) {
        event.stopPropagation(); // Prevent card click

        const card = event.currentTarget.closest(".product-card");
        let idx = +card.dataset.current;
        const productId = +card.dataset.id;
        const product = products.find((p) => p.id === productId);

        if (!product) return;

        idx = Math.max(0, Math.min(product.images.length - 1, idx + delta));
        card.dataset.current = idx;
        card.querySelector(".image-wrapper img").src = product.images[idx];
      }

      // Set image by index from thumbnail click
      function setImageByIndex(event, index) {
        event.stopPropagation(); // Prevent card click

        const card = event.target.closest(".product-card");
        const productId = +card.dataset.id;
        const product = products.find((p) => p.id === productId);

        if (!product || index < 0 || index >= product.images.length) return;

        card.dataset.current = index;
        card.querySelector(".image-wrapper img").src = product.images[index];
      }

      // Update main product image
      function updateMainImage(event, productId, imageIndex) {
        // This function is now replaced by setImageByIndex, keeping for backward compatibility
        setImageByIndex(event, imageIndex);
      }

      // Function to show AR view for product
      function showArView(productId) {
        const product = products.find((p) => p.id === productId);
        if (!product || !product.arModel) return;

        // Check if browser supports AR
        const arContainer = document.getElementById("ar-container");
        if (!arContainer) return;

        // Show the AR container
        arContainer.classList.remove("hidden");

        // Scroll to the AR container
        arContainer.scrollIntoView({ behavior: "smooth" });

        // Check for AR support
        const modelViewer = arContainer.querySelector("model-viewer");
        if (!modelViewer) return;

        // Check if AR is supported
        if (modelViewer.canActivateAR) {
          // AR is supported, activate it automatically
          setTimeout(() => {
            const arButton = modelViewer.querySelector(".ar-button");
            if (arButton) {
              arButton.click();
            }
          }, 1000);
        } else {
          // AR is not supported, show 3D model in fullscreen
          showArPrompt(product);
        }
      }

      // Show prompt for devices that don't support AR
      function showArPrompt(product) {
        const prompt = document.createElement("div");
        prompt.id = "ar-prompt";
        prompt.innerHTML = `
          <div class="p-6 bg-white/10 backdrop-blur-md rounded-lg">
            <h2 class="text-xl font-bold mb-4">AR Not Available</h2>
            <p class="mb-4">Your device doesn't support AR viewing, but you can still view the 3D model.</p>
            <button id="close-prompt" class="bg-white text-black px-4 py-2 rounded">Close</button>
          </div>
        `;

        document.body.appendChild(prompt);

        document
          .getElementById("close-prompt")
          .addEventListener("click", () => {
            prompt.remove();
          });
      }
    </script>
  </body>
</html>
